---
import HomeSvg from './HomeSvg.astro'
import LoremIpsu from './LoremIpsu.astro';
import SidebarFlowbite from './SidebarFlowbite.astro';
---

<div class="logo absolute top-4 left-4 z-50">

    <img src="/svg/logo-aux.svg" alt="logotipo de la auxiliar">

</div>

<!-- NAVBAR============================================ -->
<div class="w-full top-0 left-0 flex fixed bg-white bg-opacity-50 backdrop-blur-sm animate-fade-up">
   <div class="navbar flex justify-center items-center w-full">
      <ul class="flex gap-4  font-eras text-aux [&>li]:p-4 [&>li]:rounded-xl [&>li]:mt-[.5rem]">
         <li class="transition-colors duration-500 hover:bg-slate-100"><a href="/home">Inicio</a></li>
         <li class="transition-colors duration-500 hover:bg-slate-100"><a  href="/about">Acerca de nostros</a></li>
         <li class="transition-colors duration-500 hover:bg-slate-100"><a href="/contact">Contacto</a></li>
         <li class="transition-colors duration-500 hover:bg-slate-100"><a href="/contact">Productos</a></li>
      </ul>
   </div>

<!-- SVG---HOME---========================== -->
    <div class="text-center home p-2 w-[3rem] left-0 text-aux">
        <HomeSvg/>
    </div>
</div>


<!-- SIDEBAR============================================= -->
<div id="drawer-navigation" class="is-active bg-slate-200 backdrop-blur-[10px]  bg-opacity-30  z-50 transition duration-500 transform fixed top-0 left-[-288px] w-64 h-screen p-4 overflow-y-auto dark:bg-gray-800" tabindex="-1" aria-labelledby="drawer-navigation-label">
   <SidebarFlowbite/>
</div>



<!-- LOREMIPSU=======================================     -->
<!-- <LoremIpsu/> -->

<!-- MEDIA---QUERIES================================== -->
<style>
    @media screen and ( min-width : 888px ){
        .navbar
            {
                transition: transform .5s ease;
                transform: translateY(0rem);
            }
    }
    @media screen and ( max-width : 887px ){
        .navbar
            {
                transition: transform .5s ease;
                transform: translateY(-5rem);
            }
    }
    @media screen and ( min-width : 888px ){
        .home{
            transition: transform .5s ease;
            transform: translateY(-3rem);
        }
    }
    @media screen and ( max-width : 887px ){
        .home{
            transition: transform .5s ease;
            transform: translateY(0rem);
        }
    }
    @media screen and (min-width : 999px){
        .logo{
            transition: all 0.3s ease-in-out;
            width: 15rem;
        }
    }
    @media screen and (max-width : 999px){
        .logo{
            transition: all 0.3s ease-in-out;
            width: 10rem;
        }
    }

</style>

<!-- SIDEBAR---SCRIPT================================  -->
 <script>
    const cruz = document.querySelector('.cruz')
    const btn = document.querySelector('.text-center')
    const side = document.querySelector('#drawer-navigation') as HTMLElement
    btn.addEventListener('click', david)
    function david() {
        if ( side.classList.contains('is-active')){
            side.style.transform = 'translateX(288px)'
            side.classList.remove('is-active')
        } else {
            side.style.transform = 'translate(-288px)'
            side.classList.add('is-active')
        }
    }

    const mediaQuery = window.matchMedia('(max-width: 666px)');
    mediaQuery.addEventListener('change', handleMediaQuery);

   function handleMediaQuery(event) {
   if (event.matches) {
         side.style.transform = 'translateX(-288)';
         side.classList.add('is-active');
      } else {
         side.style.transform = 'translate(-288px)';
         side.classList.remove('is-active');
      }
   }

   cruz.addEventListener('click', cerrar)
   function cerrar(){
      side.style.transform = 'translate(-288px)';
         side.classList.add('is-active');
   }
 </script>

